!function(){var t=function(){var t=document.getElementById("aqi-input"),e=document.getElementById("aqi-display"),n=document.getElementById("button");n.onclick=function(){var n=t.value;""==n?e.textContent="请在输入框中填写您要显示的内容":e.textContent=t.value}};t();var e=function(){var t=[["北京",90],["上海",50],["福州",10],["广州",50],["成都",90],["西安",100]],e=document.getElementById("aqi-list"),n="";for(i=0,len=t.length;i<len;i++)t[i][1]>60&&(n+="<li>"+t[i][0]+", "+t[i][1]+"</li>");e.innerHTML=n};e();var n={init:function(){var t=this,e=document.getElementById("sort-btn");e.onclick=function(){t.btnHandle()}},getData:function(){var t=document.getElementById("source"),e=t.getElementsByTagName("li"),n=[],r="",o="";for(i=0,len=e.length;i<len;i++)r=e[i].textContent.replace(/\d+/g,"").trim(),o=e[i].innerText.match(/\d+/g)[0].trim(),n.push({airCity:r,airQuality:o});return n},sortAqiData:function(t){return t.sort(this.compare("airQuality"))},compare:function(t){return function(e,n){var i,r;if("object"==typeof e&&"object"==typeof n){if(i=e[t],r=n[t],i===r)return 0;if(typeof i==typeof r)return r>i?-1:1}}},sampleNumToChinese:function(t){var e={1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七",8:"八",9:"九"};return e[t]},render:function(t){for(var e=document.getElementById("resort"),n="",i=t.length,r=0;i>r;r++)n+="<li>第"+this.sampleNumToChinese((r+1).toString())+"名："+t[r].airCity+"<b>"+t[r].airQuality+"</b></li>";e.innerHTML=n},btnHandle:function(){var t=this.getData(),e=this.sortAqiData(t);this.render(e)}};n.init()}();